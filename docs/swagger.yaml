openapi: 3.0.0
info:
  title: PlatIAgro Projects API
  version: 0.3.1
  description: >
    These are the docs for PlatIAgro Projects API. The endpoints below are
    usually accessed by the PlatIAgro Web-UI.
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
servers:
  - url: 'http://localhost:8080'
  - url: 'http://localhost:8000'
security:
  - ApiKeyAuth: []
tags:
  - name: Healthcheck
    description: |
      Healthcheck indicates the current status of the API server.
  - name: Tasks
    description: >
      Tasks are tools and algorithms that a data-scientist writes in Jupyter
      Notebooks or in a Docker image. You may use these tasks as a step of an
      experiment to perform model training or inference.
  - name: Projects
    description: >
      Projects are a way to organize the problems a data-scientist is trying to
      solve. In a project, you may test different experiments
      (hypothesis/solutions/models) that address the business question you are
      trying to answer.
  - name: Experiments
    description: >
      Experiments allow data-scientists to draw acyclic workflows using tasks.
      These workflows may describe the steps of data-preparation, data-modeling.
  - name: Experiment Operators
    description: >
      An Operator is a single unit in an experiment flow. When a data-scientist
      runs an experiment, the operator runs a Jupyter Notebook of its task.
  - name: Experiment Runs
    description: >
      Runs are the executions of an experiment. Each run start from the first
      step and generates its own results.
  - name: Deployments
    description: >
      Deployments allow drawing sequential workflows for real-time inference.
      These workflows are accessible by HTTP via REST endpoints.
  - name: Deployment Operators
    description: >
      An Operator is a single unit in a deployment flow. When someone tests a
      deployment, the operator is a service that runs the Model.py of its task.
  - name: Deployment Runs
    description: >
      Runs are the executions of a deployment. Each run start from the first
      step and generates its own results.
  - name: Predictions
    description: |
      Predictions send a request with file data to seldon deployment.
  - name: Results
    description: >
      Results are the outputs of experiment runs. They are: figures, metrics,
      datasets and log messages.
  - name: Logs
    description: |
      Output logs of runs.
  - name: Comparisons
    description: >
      Comparisons organize results from different experiments for
      evaluation/comparision.
  - name: Templates
    description: >
      Templates are reusable workflows that a data-scientist may use to draw an
      experiment quickly.
  - name: Monitorings
    description: >
      Monitorings allow to ensure that models are maintaining a predetermined
      desired level of performance.
paths:
  /healthcheck:
    get:
      summary: Check the connection with the database.
      tags:
        - Healthcheck
      responses:
        '200':
          description: Successfully connected to database
        '503':
          description: >
            Service Unavailable server error response code indicates that the
            server is not ready to handle the request. A common cause is that
            the database is not available or overloaded.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceUnavailable'
              examples:
                CannotConnectToDatabase:
                  $ref: '#/components/examples/CannotConnectToDatabase'
  /tasks:
    get:
      summary: 'List tasks. Supports pagination, and sorting.'
      tags:
        - Tasks
      parameters:
        - in: query
          name: name
          schema:
            type: string
          description: Name filter
        - in: query
          name: page
          schema:
            type: integer
          description: Page number
        - in: query
          name: page_size
          schema:
            type: integer
          description: Page size
        - in: query
          name: order
          schema:
            type: string
          example: uuid asc
      responses:
        '200':
          $ref: '#/components/responses/Tasks'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                InvalidOrderBy:
                  $ref: '#/components/examples/InvalidOrderBy'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a new task.
      tags:
        - Tasks
      requestBody:
        $ref: '#/components/requestBodies/TaskPost'
      responses:
        '200':
          $ref: '#/components/responses/Task'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                MissingRequiredNotebookOrTaskId:
                  $ref: '#/components/examples/MissingRequiredNotebookOrTaskId'
                TaskNameExists:
                  $ref: '#/components/examples/TaskNameExists'
                InvalidTaskId:
                  $ref: '#/components/examples/InvalidTaskId'
                InvalidCategory:
                  $ref: '#/components/examples/InvalidCategory'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /tasks/{taskId}:
    get:
      summary: Detail a specific task by ID.
      tags:
        - Tasks
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Task'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                TaskNotFound:
                  $ref: '#/components/examples/TaskNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    patch:
      summary: Update a task by ID.
      tags:
        - Tasks
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/TaskPatch'
      responses:
        '200':
          $ref: '#/components/responses/Task'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                TaskNameExists:
                  $ref: '#/components/examples/TaskNameExists'
                InvalidCategory:
                  $ref: '#/components/examples/InvalidCategory'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                TaskNotFound:
                  $ref: '#/components/examples/TaskNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Delete a task by ID.
      tags:
        - Tasks
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '403':
          description: >
            Forbidden client error status response code indicates that the
            server understands the request but refuses to authorize it.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              examples:
                TaskProtectedFromDeletion:
                  $ref: '#/components/examples/TaskProtectedFromDeletion'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                TaskNotFound:
                  $ref: '#/components/examples/TaskNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /tasks/{taskId}/parameters:
    get:
      summary: List all parameters.
      tags:
        - Tasks
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Parameters'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                TaskNotFound:
                  $ref: '#/components/examples/TaskNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /tasks/{taskId}/emails:
    post:
      summary: Send email with task folder content
      tags:
        - Tasks
      requestBody:
        $ref: '#/components/requestBodies/TaskMailing'
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/TaskMailing'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                TaskNotFound:
                  $ref: '#/components/examples/TaskNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects:
    post:
      summary: Create a new project.
      tags:
        - Projects
      requestBody:
        $ref: '#/components/requestBodies/Project'
      responses:
        '200':
          $ref: '#/components/responses/Project'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                ProjectNameExists:
                  $ref: '#/components/examples/ProjectNameExists'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/listprojects:
    post:
      summary: 'List projects. Supports pagination, and sorting.'
      tags:
        - Projects
      requestBody:
        $ref: '#/components/requestBodies/ListProjects'
      responses:
        '200':
          $ref: '#/components/responses/Projects'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                InvalidOrderBy:
                  $ref: '#/components/examples/InvalidOrderBy'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}:
    get:
      summary: Detail a specific project by ID.
      tags:
        - Projects
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Project'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    patch:
      summary: Update a project by ID.
      tags:
        - Projects
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/Project'
      responses:
        '200':
          $ref: '#/components/responses/Project'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                ProjectNameExists:
                  $ref: '#/components/examples/ProjectNameExists'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Delete a project by ID.
      tags:
        - Projects
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/deleteprojects:
    post:
      summary: Delete multiple projects.
      tags:
        - Projects
      requestBody:
        $ref: '#/components/requestBodies/Deleteprojects'
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                MissingRequiredProjectId:
                  $ref: '#/components/examples/MissingRequiredProjectId'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/comparisons:
    get:
      summary: List all comparisons sorted by created_at in ascending order.
      tags:
        - Comparisons
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Comparisons'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a new comparison.
      tags:
        - Comparisons
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Comparison'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/comparisons/{comparisonId}:
    patch:
      summary: Update a comparison by ID.
      tags:
        - Comparisons
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: comparisonId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/ComparisonPatch'
      responses:
        '200':
          $ref: '#/components/responses/Comparison'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                InvalidExperimentId:
                  $ref: '#/components/examples/InvalidExperimentId'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ComparisonNotFound:
                  $ref: '#/components/examples/ComparisonNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Delete a comparison by ID.
      tags:
        - Comparisons
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: comparisonId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ComparisonNotFound:
                  $ref: '#/components/examples/ComparisonNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments:
    get:
      summary: List all experiments sorted by position in ascending order.
      tags:
        - Experiments
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Experiments'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a new experiment.
      tags:
        - Experiments
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/ExperimentPost'
      responses:
        '200':
          $ref: '#/components/responses/Experiment'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                ExperimentNameExists:
                  $ref: '#/components/examples/ExperimentNameExists'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}:
    get:
      summary: Detail a specific experiment by ID.
      tags:
        - Experiments
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Experiment'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    patch:
      summary: Update an experiment by ID.
      tags:
        - Experiments
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/ExperimentPatch'
      responses:
        '200':
          $ref: '#/components/responses/Experiment'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                ExperimentNameExists:
                  $ref: '#/components/examples/ExperimentNameExists'
                InvalidTemplateId:
                  $ref: '#/components/examples/InvalidTemplateId'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Delete an experiment by ID.
      tags:
        - Experiments
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/logs/eventsource:
    get:
      summary: Server sent events of log stream of pods used in the given experiment.
      tags:
        - Logs
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Returns log stream
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotCreateLogStream:
                  $ref: '#/components/examples/CannotCreateLogStream'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/operators:
    get:
      summary: 'List all operators, unsorted.'
      tags:
        - Experiment Operators
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Operators'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a new operator.
      tags:
        - Experiment Operators
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/OperatorPost'
      responses:
        '200':
          $ref: '#/components/responses/Operator'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                MissingRequiredTaskId:
                  $ref: '#/components/examples/MissingRequiredTaskId'
                InvalidTaskId:
                  $ref: '#/components/examples/InvalidTaskId'
                InvalidOperatorRequestBody:
                  $ref: '#/components/examples/InvalidOperatorRequestBody'
                InvalidParameters:
                  $ref: '#/components/examples/InvalidParameters'
                InvalidDependencies:
                  $ref: '#/components/examples/InvalidDependencies'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/operators/eventsource:
    get:
      summary: Server sent events of operator's status change stream.
      tags:
        - Experiment Operators
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Returns log stream
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotCreateLogStream:
                  $ref: '#/components/examples/CannotCreateLogStream'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/operators/{operatorId}:
    patch:
      summary: Update an operator by ID.
      tags:
        - Experiment Operators
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/OperatorPatch'
      responses:
        '200':
          $ref: '#/components/responses/Operator'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                InvalidTaskId:
                  $ref: '#/components/examples/InvalidTaskId'
                InvalidParameters:
                  $ref: '#/components/examples/InvalidParameters'
                InvalidDependencies:
                  $ref: '#/components/examples/InvalidDependencies'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                OperatorNotFound:
                  $ref: '#/components/examples/OperatorNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Delete an operator by ID.
      tags:
        - Experiment Operators
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                OperatorNotFound:
                  $ref: '#/components/examples/OperatorNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/operators/{operatorId}/parameters/{name}:
    patch:
      summary: Update a parameter value.
      tags:
        - Experiment Operators
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
        - name: name
          description: Parameter name.
          in: path
          required: true
          schema:
            type: string
      requestBody:
        $ref: '#/components/requestBodies/ParameterPatch'
      responses:
        '200':
          $ref: '#/components/responses/AnyValue'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                OperatorNotFound:
                  $ref: '#/components/examples/OperatorNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs:
    get:
      summary: List all experiment runs sorted by created_at in ascending order.
      tags:
        - Experiment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Run'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a new experiment run.
      tags:
        - Experiment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/RunPost'
      responses:
        '200':
          $ref: '#/components/responses/Run'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}:
    get:
      summary: Detail a specific experiment run by ID.
      tags:
        - Experiment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/Run'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Terminate an experiment run.
      tags:
        - Experiment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: experimentId
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/retry:
    put:
      summary: Re-initiate a failed or terminated experiment run.
      tags:
        - Experiment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: experimentId
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/results:
    get:
      summary: Download a zip file with all results from run.
      tags:
        - Results
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/RunResults'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/data:
    get:
      summary: Download a zip file with all data saved in a run.
      tags:
        - Results
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/RunResults'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotCreateNamespacedPod:
                  $ref: '#/components/examples/CannotCreateNamespacedPod'
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/operators/{operatorId}/results:
    get:
      summary: Download a zip file with all results from operator.
      tags:
        - Results
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/RunResults'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
                OperatorNotFound:
                  $ref: '#/components/examples/OperatorNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/operators/{operatorId}/datasets:
    get:
      summary: List datasets. Supports pagination.
      tags:
        - Results
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - in: query
          name: page
          schema:
            type: integer
          description: Page number
        - in: query
          name: page_size
          schema:
            type: integer
          description: Page size
      responses:
        '200':
          $ref: '#/components/responses/Datasets'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
                OperatorNotFound:
                  $ref: '#/components/examples/OperatorNotFound'
                DatasetNotFound:
                  $ref: '#/components/examples/DatasetNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/operators/{operatorId}/figures:
    get:
      summary: List all figures
      tags:
        - Results
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Figures'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
                OperatorNotFound:
                  $ref: '#/components/examples/OperatorNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/operators/{operatorId}/metrics:
    get:
      summary: List all metrics
      tags:
        - Results
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Metrics'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
                OperatorNotFound:
                  $ref: '#/components/examples/OperatorNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/logs:
    get:
      summary: Get logs from an experiment run
      tags:
        - Logs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/Logs'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                ExperimentNotFound:
                  $ref: '#/components/examples/ExperimentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
                CannotRetrieveContainerLogs:
                  $ref: '#/components/examples/CannotRetrieveContainerLogs'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments:
    get:
      summary: List all deployments.
      tags:
        - Deployments
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Deployments'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a new deployment.
      tags:
        - Deployments
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/DeploymentPost'
      responses:
        '200':
          $ref: '#/components/responses/Deployments'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                MissingRequiredExperimentsOrTemplateIdOrCopyFrom:
                  $ref: >-
                    #/components/examples/MissingRequiredExperimentsOrTemplateIdOrCopyFrom
                MissingRequiredDeploymentName:
                  $ref: '#/components/examples/MissingRequiredDeploymentName'
                DeploymentNameExists:
                  $ref: '#/components/examples/DeploymentNameExists'
                MissingRequiredOperatorId:
                  $ref: '#/components/examples/MissingRequiredOperatorId'
                MissingRequiredDataSourceOperatorId:
                  $ref: '#/components/examples/MissingRequiredDataSourceOperatorId'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}:
    get:
      summary: Detail a specific deployment by ID.
      tags:
        - Deployments
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Deployment'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    patch:
      summary: Update a deployment by ID.
      tags:
        - Deployments
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/DeploymentPatch'
      responses:
        '200':
          $ref: '#/components/responses/Deployment'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                DeploymentNameExists:
                  $ref: '#/components/examples/DeploymentNameExists'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Delete a deployment by ID.
      tags:
        - Deployments
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/logs/eventsource:
    get:
      summary: Server sent events of log stream of pods used in the given deployment.
      tags:
        - Logs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Returns log stream
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/operators:
    get:
      summary: 'List all operators, unsorted.'
      tags:
        - Deployment Operators
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Operators'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/operators/{operatorId}:
    patch:
      summary: Update an operator by ID.
      tags:
        - Deployment Operators
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/OperatorPatch'
      responses:
        '200':
          $ref: '#/components/responses/Operator'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                InvalidTaskId:
                  $ref: '#/components/examples/InvalidTaskId'
                InvalidParameters:
                  $ref: '#/components/examples/InvalidParameters'
                InvalidDependencies:
                  $ref: '#/components/examples/InvalidDependencies'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
                OperatorNotFound:
                  $ref: '#/components/examples/OperatorNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/monitorings:
    get:
      summary: Lists all monitorings.
      tags:
        - Monitorings
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Monitorings'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a monitoring.
      tags:
        - Monitorings
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                taskId:
                  type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Monitoring'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                InvalidTaskId:
                  $ref: '#/components/examples/InvalidTaskId'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/monitorings/{monitoringId}:
    delete:
      summary: Delete a monitoring by ID.
      tags:
        - Monitorings
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: monitoringId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
                MonitoringNotFound:
                  $ref: '#/components/examples/MonitoringNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/monitorings/{monitoringId}/figures:
    get:
      summary: List all figures
      tags:
        - Monitorings
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: monitoringId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Figures'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
                MonitoringNotFound:
                  $ref: '#/components/examples/MonitoringNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/runs:
    get:
      summary: List all experiment runs sorted by created_at in ascending order.
      tags:
        - Deployment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Run'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a new deployment run.
      tags:
        - Deployment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/RunPost'
      responses:
        '200':
          $ref: '#/components/responses/Run'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/runs/{runId}:
    get:
      summary: Detail a specific deployment run by ID.
      tags:
        - Deployment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/Run'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Terminate a deployment run.
      tags:
        - Deployment Runs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/predictions:
    post:
      summary: Create a new prediction sending a file.
      tags:
        - Predictions
      requestBody:
        $ref: '#/components/requestBodies/PredictionPost'
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Prediction'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                InvalidDataset:
                  $ref: '#/components/examples/InvalidDataset'
                MissingRequiredDatasetOrFile:
                  $ref: '#/components/examples/MissingRequiredDatasetOrFile'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/predictions/{predictionId}:
    get:
      summary: Gets prediciton object and returns as json
      tags:
        - Predictions
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: predictionId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/PredictionInfo'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
                PredictionNotFound:
                  $ref: '#/components/examples/PredictionNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
  /projects/{projectId}/deployments/{deploymentId}/runs/{runId}/logs:
    get:
      summary: Get logs from a deployment run
      tags:
        - Logs
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          $ref: '#/components/responses/Logs'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
                RunNotFound:
                  $ref: '#/components/examples/RunNotFound'
        '500':
          description: >
            Internal Server Error server error response code indicates that the
            server encountered an unexpected condition that prevented it from
            fulfilling the request. This error response is a generic "catch-all"
            response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/InternalServerError'
              examples:
                CannotConnectToCluster:
                  $ref: '#/components/examples/CannotConnectToCluster'
                CannotRetrieveContainerLogs:
                  $ref: '#/components/examples/CannotRetrieveContainerLogs'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /projects/{projectId}/deployments/{deploymentId}/responses:
    post:
      summary: Create a deployment response.
      tags:
        - Deployments
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/ResponsePost'
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                ProjectNotFound:
                  $ref: '#/components/examples/ProjectNotFound'
                DeploymentNotFound:
                  $ref: '#/components/examples/DeploymentNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /templates:
    get:
      summary: List all templates sorted by name in natural sort order.
      tags:
        - Templates
      responses:
        '200':
          $ref: '#/components/responses/Templates'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    post:
      summary: Create a new template from an experiment.
      tags:
        - Templates
      requestBody:
        $ref: '#/components/requestBodies/TemplatePost'
      responses:
        '200':
          $ref: '#/components/responses/Template'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                MissingRequiredTemplateName:
                  $ref: '#/components/examples/MissingRequiredTemplateName'
                MissingRequiredExperimentIdOrDeploymentId:
                  $ref: >-
                    #/components/examples/MissingRequiredExperimentIdOrDeploymentId
                InvalidExperimentId:
                  $ref: '#/components/examples/InvalidExperimentId'
                InvalidDeploymentId:
                  $ref: '#/components/examples/InvalidDeploymentId'
                TemplateNameExists:
                  $ref: '#/components/examples/TemplateNameExists'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /templates/{templateId}:
    get:
      summary: Detail a specific template by ID.
      tags:
        - Templates
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Template'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                TemplateNotFound:
                  $ref: '#/components/examples/TemplateNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    patch:
      summary: Update a template by ID.
      tags:
        - Templates
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: '#/components/requestBodies/TemplatePatch'
      responses:
        '200':
          $ref: '#/components/responses/Template'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                TemplateNameExists:
                  $ref: '#/components/examples/TemplateNameExists'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                TemplateNotFound:
                  $ref: '#/components/examples/TemplateNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
    delete:
      summary: Delete a template by ID.
      tags:
        - Templates
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '404':
          description: >
            Not Found client error response code indicates that the server can't
            find the requested resource. A common cause is that a provided ID
            does not exist in the database.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              examples:
                TemplateNotFound:
                  $ref: '#/components/examples/TemplateNotFound'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
  /templates/deletetemplates:
    post:
      summary: Delete multiple templates.
      tags:
        - Templates
      requestBody:
        $ref: '#/components/requestBodies/Deletetemplates'
      responses:
        '200':
          $ref: '#/components/responses/Message'
        '400':
          description: >
            Bad Request response status code indicates that the server cannot or
            will not process the request due to something that is perceived to
            be a client error. A common cause is that the client has sent
            invalid request values.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              examples:
                MissingRequiredTemplateId:
                  $ref: '#/components/examples/MissingRequiredTemplateId'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '503':
          $ref: '#/components/responses/ServiceUnavailable'
components:
  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      in: header
      name: kubeflow-userid
  schemas:
    AnyValue:
      nullable: true
      description: >-
        Can be any value - string, number, boolean, array or object, including
        `null`.
    Comparison:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        activeTab:
          type: string
        projectId:
          type: string
          format: uuid
        experimentId:
          type: string
          format: uuid
        operatorId:
          type: string
          format: uuid
        runId:
          type: string
          format: uuid
        layout:
          type: object
          properties:
            x:
              type: number
            y:
              type: number
            w:
              type: number
            h:
              type: number
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    Comparisons:
      type: array
      items:
        $ref: '#/components/schemas/Comparison'
    Task:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        category:
          type: string
          enum:
            - DATASETS
            - DEFAULT
            - DESCRIPTIVE_STATISTICS
            - FEATURE_ENGINEERING
            - PREDICTOR
            - COMPUTER_VISION
            - NLP
            - MONITORING
        tags:
          type: array
          items:
            type: string
        dataIn:
          type: string
        dataOut:
          type: string
        docs:
          type: string
        hasNotebook:
          type: boolean
        image:
          type: string
        commands:
          type: array
          items:
            type: string
        arguments:
          type: array
          items:
            type: string
        cpuLimit:
          type: string
        cpuRequest:
          type: string
        memoryLimit:
          type: string
        memoryRequest:
          type: string
        readinessProbeInitialDelaySeconds:
          type: integer
        parameters:
          type: array
          items:
            $ref: '#/components/schemas/Parameter'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    Tasks:
      type: object
      properties:
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/Task'
        total:
          type: integer
    TaskEmpty:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
    TaskDocker:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
        commands:
          type: array
          items:
            type: string
        arguments:
          type: array
          items:
            type: string
        image:
          type: string
        cpuLimit:
          type: string
        cpuRequest:
          type: string
        memoryLimit:
          type: string
        memoryRequest:
          type: string
    TaskCopyFrom:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
        copyFrom:
          type: string
          format: uuid
    TaskNotebooks:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
        deploymentNotebook:
          type: object
        experimentNotebook:
          type: object
        cpuLimit:
          type: string
        cpuRequest:
          type: string
        memoryLimit:
          type: string
        memoryRequest:
          type: string
    Parameter:
      type: object
      properties:
        type:
          type: string
          enum:
            - string
            - integer
        name:
          type: string
        default:
          type: string
    Parameters:
      type: array
      items:
        $ref: '#/components/schemas/Parameter'
    Project:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        experiments:
          type: array
          items:
            $ref: '#/components/schemas/Experiment'
        deployments:
          type: array
          items:
            $ref: '#/components/schemas/Deployment'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        hasExperiment:
          type: boolean
        hasDeployment:
          type: boolean
        hasPreDeployment:
          type: boolean
    Projects:
      type: object
      properties:
        projects:
          type: array
          items:
            $ref: '#/components/schemas/Project'
        total:
          type: integer
    Experiment:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        position:
          type: integer
        isActive:
          type: boolean
        projectId:
          type: string
          format: uuid
        operators:
          $ref: '#/components/schemas/Operators'
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    Experiments:
      type: array
      items:
        $ref: '#/components/schemas/Experiment'
    Deployment:
      type: object
      properties:
        createdAt:
          type: string
          format: date-time
        experimentId:
          type: string
          format: uuid
        isActive:
          type: boolean
        name:
          type: string
        operators:
          type: array
          items:
            $ref: '#/components/schemas/Operator'
        position:
          type: integer
        status:
          type: string
          enum:
            - Pending
            - Succeeded
          example: Pending
        url:
          type: string
        deployedAt:
          type: string
          format: date-time
        uuid:
          type: string
          format: uuid
    Deployments:
      type: object
      properties:
        deployments:
          type: array
          items:
            $ref: '#/components/schemas/Deployment'
        total:
          type: integer
    Prediction:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        deployment_id:
          type: string
          format: uuid
        status:
          type: string
          enum:
            - not_started
            - started
            - done
            - failed
    PredictionInfo:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        deployment_id:
          type: string
          format: uuid
        request_body:
          type: string
        response_body:
          type: string
        created_at:
          type: string
          format: date
        updated_at:
          type: string
          format: date
        status:
          type: string
          enum:
            - not_started
            - started
            - done
            - failed
    Data:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/SeldonStatus'
        meta:
          $ref: '#/components/schemas/SeldonMeta'
        data:
          $ref: '#/components/schemas/SeldonDefaultData'
    BinData:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/SeldonStatus'
        meta:
          $ref: '#/components/schemas/SeldonMeta'
        binData:
          type: string
          format: byte
    StrData:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/SeldonStatus'
        meta:
          $ref: '#/components/schemas/SeldonMeta'
        strData:
          type: string
    SeldonMeta:
      type: object
      additionalProperties: false
      properties:
        tags:
          type: object
          additionalProperties:
            description: 'Can be anything: string, number, array, object, etc.'
          example:
            content-type: image/jpg
    SeldonDefaultData:
      type: object
      additionalProperties: false
      properties:
        names:
          type: array
          maxItems: 2097152
          items:
            type: string
            pattern: '^.{1,2097152}'
            maxLength: 2097152
        tensor:
          type: object
          additionalProperties: false
          properties:
            shape:
              type: array
              maxItems: 2097152
              items:
                type: integer
                format: int32
            values:
              type: array
              maxItems: 2097152
              items:
                type: number
                format: double
        ndarray:
          type: array
          maxItems: 2097152
          items:
            description: 'Can be anything: string, number, array, object, etc.'
        tftensor:
          type: object
          additionalProperties: false
          properties:
            size:
              type: string
              pattern: '^.{1,2097152}'
              maxLength: 2097152
              format: int64
              description: >-
                Size of the tensor in that dimension. This value must be >= -1,
                but values of -1 are reserved for "unknown" shapes (values of -1
                mean "unknown" dimension).  Certain wrappers that work with
                TensorShapeProto may fail at runtime when deserializing a
                TensorShapeProto containing a dim value of -1.
            name:
              type: string
              pattern: '^.{1,2097152}'
              maxLength: 2097152
              description: Optional name of the tensor dimension.
          description: One dimension of the tensor.
    SeldonStatus:
      type: object
      additionalProperties: false
      properties:
        code:
          type: integer
          format: int32
        info:
          type: string
          pattern: '^.{1,2097152}'
          maxLength: 2097152
        reason:
          type: string
          pattern: '^.{1,2097152}'
          maxLength: 2097152
        status:
          type: string
          pattern: '^.{1,2097152}'
          maxLength: 2097152
          enum:
            - SUCCESS
            - FAILURE
          default: SUCCESS
    DeploymentExperiments:
      type: object
      properties:
        experiments:
          type: array
          items:
            type: string
            format: uuid
    Monitoring:
      type: object
      properties:
        createdAt:
          type: string
          format: date-time
        deploymentId:
          type: string
          format: uuid
        taskId:
          type: string
          format: uuid
        task:
          type: object
          properties:
            name:
              type: string
            tags:
              type: array
              items:
                type: string
        uuid:
          type: string
          format: uuid
    Monitorings:
      type: array
      items:
        $ref: '#/components/schemas/Monitoring'
    DeploymentTemplate:
      type: object
      properties:
        templateId:
          type: string
          format: uuid
    DeploymentCopyFrom:
      type: object
      properties:
        copyFrom:
          type: string
          format: uuid
        name:
          type: string
    Operator:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        taskId:
          type: string
          format: uuid
        task:
          type: object
          properties:
            name:
              type: string
            tags:
              type: array
              items:
                type: string
            parameters:
              type: array
              items:
                $ref: '#/components/schemas/Parameter'
        dependencies:
          type: array
          items:
            type: string
            format: uuid
        parameters:
          type: object
          additionalProperties:
            type: string
        experimentId:
          type: string
          format: uuid
        deploymentId:
          type: string
          format: uuid
        positionX:
          type: number
          format: float
        positionY:
          type: number
          format: float
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        status:
          type: string
          enum:
            - Unset
            - Setted up
            - Pending
            - Running
            - Failed
            - Succeeded
            - Terminated
          example: Setted up
        statusMessage:
          type: string
    Operators:
      type: array
      items:
        $ref: '#/components/schemas/Operator'
    Logs:
      type: object
      properties:
        total:
          type: number
          example: 2
        logs:
          type: array
          items:
            type: object
            properties:
              level:
                type: string
                enum:
                  - DEBUG
                  - INFO
                  - WARNING
                  - ERROR
                example: INFO
              title:
                type: string
                example: Regressor Random Forest
              message:
                type: string
                example: >-
                  seldon_core.microservice:load_annotations:114 Found annotation
                  deployment_version
              createdAt:
                type: string
                format: date-time
    Datasets:
      type: array
      items:
        type: object
        properties:
          columns:
            type: array
            items:
              oneOf:
                - type: string
                  example: SepalLengthCm
                - type: string
                  example: Species
          data:
            type: array
            items:
              oneOf:
                - type: array
                  items:
                    oneOf:
                      - type: number
                        example: 5.1
                      - type: string
                        example: Iris-setosa
          total:
            type: number
            example: 2
    Figures:
      type: array
      items:
        type: string
        example: >-
          data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAAC6CAIAAAB3B9X3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAG6SURBVHhe7dIxAQAADMOg+TfdicgLGrhBIBCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhDB9ho69eEGiUHfAAAAAElFTkSuQmCC
    Metrics:
      type: array
      items:
        type: object
        example:
          metric_name: metric_value
    Run:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date-time
        operators:
          type: array
          items:
            type: object
            properties:
              operatorId:
                type: string
                format: uuid
              taskId:
                type: string
                format: uuid
              task:
                type: object
                properties:
                  name:
                    type: string
                  tags:
                    type: array
                    items:
                      type: string
              parameters:
                type: object
                example:
                  dataset: /tmp/data/iris.csv
                  target: SepalLengthCm
    Runs:
      type: array
      items:
        $ref: '#/components/schemas/Run'
    Template:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        tasks:
          type: array
          items:
            type: object
            properties:
              uuid:
                type: string
                format: uuid
              taskId:
                type: string
                format: uuid
              dependencies:
                type: array
                items:
                  type: string
                  format: uuid
              positionX:
                type: number
                format: float
              positionY:
                type: number
                format: float
        experimentId:
          type: string
          format: uuid
        deploymentId:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    Templates:
      type: array
      items:
        $ref: '#/components/schemas/Template'
    TemplateExperiment:
      type: object
      properties:
        name:
          type: string
        experimentId:
          type: string
          format: uuid
    TemplateDeployment:
      type: object
      properties:
        name:
          type: string
        deploymentId:
          type: string
          format: uuid
    BadRequest:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
      required:
        - code
        - message
    Forbidden:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
      required:
        - code
        - message
    NotFound:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
      required:
        - code
        - message
    InternalServerError:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
      required:
        - code
        - message
    ServiceUnavailable:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
      required:
        - code
        - message
  requestBodies:
    ComparisonPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              experimentId:
                type: string
                format: uuid
              operatorId:
                type: string
                format: uuid
              runId:
                type: string
                format: uuid
              layout:
                type: object
                properties:
                  x:
                    type: number
                  'y':
                    type: number
                  w:
                    type: number
                  h:
                    type: number
    TaskPost:
      content:
        application/json:
          schema:
            oneOf:
              - $ref: '#/components/schemas/TaskEmpty'
              - $ref: '#/components/schemas/TaskDocker'
              - $ref: '#/components/schemas/TaskCopyFrom'
              - $ref: '#/components/schemas/TaskNotebooks'
          examples:
            empty:
              summary: Empty notebooks
              value:
                name: string
                description: string
                category: DEFAULT
                tags:
                  - DEFAULT
                dataIn: string
                dataOut: string
                docs: string
                cpuLimit: 1000m
                cpuRequest: 1000m
                memoryLimit: 10G
                memoryRequest: 10G
            unnamed_notebook:
              summary: Unnamed notebook
              value: {}
            docker:
              summary: Custom docker image
              value:
                name: string
                description: string
                category: DEFAULT
                tags:
                  - DEFAULT
                dataIn: string
                dataOut: string
                docs: string
                commands:
                  - cmd
                arguments:
                  - arg
                image: 'your-custom-docker-image:tag'
                cpuLimit: 1000m
                cpuRequest: 1000m
                memoryLimit: 10G
                memoryRequest: 10G
            copyFrom:
              summary: Copy another task
              value:
                name: string
                description: string
                tags:
                  - DEFAULT
                copyFrom: 3fa85f64-5717-4562-b3fc-2c963f66afa6
            notebook:
              summary: Upload notebooks in request body
              value:
                name: string
                description: string
                category: DEFAULT
                tags:
                  - DEFAULT
                dataIn: string
                dataOut: string
                docs: string
                cpuLimit: 1000m
                cpuRequest: 1000m
                memoryLimit: 10G
                memoryRequest: 10G
                deploymentNotebook:
                  cells:
                    - cell_type: code
                      execution_count: null
                      metadata: {}
                      outputs: []
                      source: []
                  metadata:
                    kernelspec:
                      display_name: Python 3
                      language: python
                      name: python3
                    language_info:
                      codemirror_mode:
                        name: ipython
                        version: 3
                      file_extension: .py
                      mimetype: text/x-python
                      name: python
                      nbconvert_exporter: python
                      pygments_lexer: ipython3
                      version: 3.6.9
                  nbformat: 4
                  nbformat_minor: 4
                experimentNotebook:
                  cells:
                    - cell_type: code
                      execution_count: null
                      metadata: {}
                      outputs: []
                      source: []
                  metadata:
                    kernelspec:
                      display_name: Python 3
                      language: python
                      name: python3
                    language_info:
                      codemirror_mode:
                        name: ipython
                        version: 3
                      file_extension: .py
                      mimetype: text/x-python
                      name: python
                      nbconvert_exporter: python
                      pygments_lexer: ipython3
                      version: 3.6.9
                  nbformat: 4
                  nbformat_minor: 4
    TaskPatch:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/TaskNotebooks'
          example:
            name: string
            description: string
            category: DEFAULT
            tags:
              - DEFAULT
            dataIn: string
            dataOut: string
            docs: string
            commands:
              - cmd
            arguments:
              - arg
            image: 'your-custom-docker-image:tag'
            cpuLimit: 1000m
            cpuRequest: 1000m
            memoryLimit: 10G
            memoryRequest: 10G
            deploymentNotebook:
              cells:
                - cell_type: code
                  execution_count: null
                  metadata: {}
                  outputs: []
                  source: []
              metadata:
                kernelspec:
                  display_name: Python 3
                  language: python
                  name: python3
                language_info:
                  codemirror_mode:
                    name: ipython
                    version: 3
                  file_extension: .py
                  mimetype: text/x-python
                  name: python
                  nbconvert_exporter: python
                  pygments_lexer: ipython3
                  version: 3.6.9
              nbformat: 4
              nbformat_minor: 4
            experimentNotebook:
              cells:
                - cell_type: code
                  execution_count: null
                  metadata: {}
                  outputs: []
                  source: []
              metadata:
                kernelspec:
                  display_name: Python 3
                  language: python
                  name: python3
                language_info:
                  codemirror_mode:
                    name: ipython
                    version: 3
                  file_extension: .py
                  mimetype: text/x-python
                  name: python
                  nbconvert_exporter: python
                  pygments_lexer: ipython3
                  version: 3.6.9
              nbformat: 4
              nbformat_minor: 4
    TaskMailing:
      content:
        application/json:
          schema:
            type: object
            properties:
              emails:
                type: array
                items:
                  type: string
    Project:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              description:
                type: string
    ListProjects:
      content:
        application/json:
          schema:
            type: object
            properties:
              filters:
                type: object
                properties:
                  name:
                    type: string
              order:
                type: string
              page:
                type: integer
              page_size:
                type: integer
    Deleteprojects:
      content:
        application/json:
          schema:
            type: array
            items:
              type: string
              format: uuid
    ExperimentPost:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              copyFrom:
                type: string
    ExperimentPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              position:
                type: integer
              isActive:
                type: boolean
              templateId:
                type: string
                format: uuid
    DeploymentPost:
      content:
        application/json:
          schema:
            oneOf:
              - $ref: '#/components/schemas/DeploymentExperiments'
              - $ref: '#/components/schemas/DeploymentTemplate'
              - $ref: '#/components/schemas/DeploymentCopyFrom'
          examples:
            experiments:
              summary: From a list of experiments
              value:
                experiments:
                  - 3fa85f64-5717-4562-b3fc-2c963f66afa6
            template:
              summary: From a template
              value:
                templateId: 3fa85f64-5717-4562-b3fc-2c963f66afa6
            copyFrom:
              summary: From an existing deployment
              value:
                copyFrom: 3fa85f64-5717-4562-b3fc-2c963f66afa6
                name: string
    DeploymentPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              isActive:
                type: boolean
              name:
                type: string
              position:
                type: integer
              templateId:
                type: string
                format: uuid
    PredictionPost:
      content:
        application/json:
          schema:
            type: object
            properties:
              dataset:
                type: string
        multipart/form-data:
          schema:
            type: object
            properties:
              file:
                type: string
                format: binary
    OperatorPost:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              taskId:
                type: string
                format: uuid
              dependencies:
                type: array
                items:
                  type: string
                  format: uuid
              parameters:
                type: object
                additionalProperties:
                  type: string
              positionX:
                type: number
                format: float
              positionY:
                type: number
                format: float
    OperatorPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              taskId:
                type: string
                format: uuid
              dependencies:
                type: array
                items:
                  type: string
                  format: uuid
              parameters:
                type: object
                additionalProperties:
                  type: string
              positionX:
                type: number
                format: float
              positionY:
                type: number
                format: float
    ParameterPatch:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AnyValue'
    ResponsePost:
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Prediction'
    RunPost:
      content:
        application/json:
          schema:
            type: object
            properties: {}
    TemplatePost:
      content:
        application/json:
          schema:
            oneOf:
              - $ref: '#/components/schemas/TemplateExperiment'
              - $ref: '#/components/schemas/TemplateDeployment'
          examples:
            experiment:
              summary: From a experimentId
              value:
                name: string
                experimentId: 3fa85f64-5717-4562-b3fc-2c963f66afa6
            deployment:
              summary: From a deploymentId
              value:
                name: string
                deploymentId: 3fa85f64-5717-4562-b3fc-2c963f66afa6
    TemplatePatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
    Deletetemplates:
      content:
        application/json:
          schema:
            type: array
            items:
              type: string
              format: uuid
  responses:
    AnyValue:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AnyValue'
        text/plain:
          schema:
            type: string
    Comparison:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Comparison'
    Comparisons:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Comparisons'
    Task:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Task'
    Tasks:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Tasks'
    TaskMailing:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
    Parameters:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Parameters'
    Project:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Project'
    Projects:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Projects'
    Experiment:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Experiment'
    Experiments:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Experiments'
    Deployment:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Deployments'
    Deployments:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Deployments'
    Prediction:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Prediction'
    PredictionInfo:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/PredictionInfo'
    Operator:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Operator'
    Operators:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Operators'
    Logs:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Logs'
    RunResults:
      description: ''
      content:
        application/x-zip-compressed:
          schema:
            type: string
            format: binary
      headers:
        Content-Disposition:
          schema:
            type: string
            example: attachment; filename="results.zip"
    Datasets:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Datasets'
    Figures:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Figures'
    Metrics:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Metrics'
    Run:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Run'
    Runs:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Runs'
    Template:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Template'
    Templates:
      description: ''
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Templates'
    Message:
      description: ''
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            required:
              - message
    BadRequest:
      description: >
        Bad Request response status code indicates that the server cannot or
        will not process the request due to something that is perceived to be a
        client error. A common cause is that the client has sent invalid request
        values.
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: string
              message:
                type: string
            required:
              - code
              - message
    Forbidden:
      description: >
        Forbidden client error status response code indicates that the server
        understands the request but refuses to authorize it.
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: string
              message:
                type: string
            required:
              - code
              - message
    NotFound:
      description: >
        Not Found client error response code indicates that the server can't
        find the requested resource. A common cause is that a provided ID does
        not exist in the database.
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: string
              message:
                type: string
            required:
              - code
              - message
    InternalServerError:
      description: >
        Internal Server Error server error response code indicates that the
        server encountered an unexpected condition that prevented it from
        fulfilling the request. This error response is a generic "catch-all"
        response.
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: string
              message:
                type: string
            required:
              - code
              - message
    ServiceUnavailable:
      description: >
        Service Unavailable server error response code indicates that the server
        is not ready to handle the request. A common cause is that the database
        is not available or overloaded.
      content:
        application/json:
          schema:
            type: object
            properties:
              code:
                type: string
              message:
                type: string
            required:
              - code
              - message
  examples:
    CannotConnectToDatabase:
      value:
        code: CannotConnectToDatabase
        message: Could not connect to database
    MissingRequiredFormDataOrJson:
      value:
        code: MissingRequiredFormDataOrJson
        message: either form-data or json is required
    InvalidDataset:
      value:
        code: InvalidDataset
        message: a valid dataset is required
    MissingRequiredDatasetOrFile:
      value:
        code: MissingRequiredDatasetOrFile
        message: either dataset name or file is required
    InvalidOrderBy:
      value:
        code: InvalidOrderBy
        message: Invalid order argument
    ProjectNameExists:
      value:
        code: ProjectNameExists
        message: a project with that name already exists
    MissingRequiredProjectId:
      value:
        code: MissingRequiredProjectId
        message: inform at least one project
    MissingRequiredTemplateName:
      value:
        code: MissingRequiredTemplateName
        message: name is required
    MissingRequiredExperimentIdOrDeploymentId:
      value:
        code: MissingRequiredExperimentIdOrDeploymentId
        message: experimentId or deploymentId needed to create template.
    TemplateNameExists:
      value:
        code: TemplateNameExists
        message: a template with that name already exists
    MissingRequiredTemplateId:
      value:
        code: MissingRequiredTemplateId
        message: inform at least one template
    MissingRequiredExperimentsOrTemplateIdOrCopyFrom:
      value:
        code: MissingRequiredExperimentsOrTemplateIdOrCopyFrom
        message: 'either experiments, templateId or copyFrom is required'
    MissingRequiredDeploymentName:
      value:
        code: MissingRequiredDeploymentName
        message: name is required to duplicate deployment
    MissingRequiredOperatorId:
      value:
        code: MissingRequiredOperatorId
        message: Necessary at least one operator.
    MissingRequiredDataSourceOperatorId:
      value:
        code: MissingRequiredDataSourceOperatorId
        message: Necessary at least one operator that is not a data source.
    InvalidExperiments:
      value:
        code: InvalidExperiments
        message: some experiments do not exist
    InvalidDeploymentId:
      value:
        code: InvalidDeploymentId
        message: source deployment does not exist
    InvalidRunId:
      value:
        code: InvalidRunId
        message: Not a failed run
    MissingRequiredExperimentName:
      value:
        code: MissingRequiredExperimentName
        message: name is required
    DeploymentNameExists:
      value:
        code: DeploymentNameExists
        message: a deployment with that name already exists
    ExperimentNameExists:
      value:
        code: ExperimentNameExists
        message: an experiment with that name already exists
    InvalidExperimentId:
      value:
        code: InvalidExperimentId
        message: source experiment does not exist
    InvalidTemplateId:
      value:
        code: InvalidTemplateId
        message: The specified template does not exist
    CannotCreateLogStream:
      value:
        code: CannotCreateLogStream
        message: Unable to create log stream. No active pod available.
    CannotCreateNamespacedPod:
      value:
        code: CannotCreateNamespacedPod
        message: 'Error while trying to create pod: {message}'
    MissingRequiredTaskId:
      value:
        code: MissingRequiredTaskId
        message: taskId is required
    InvalidOperatorRequestBody:
      value:
        code: InvalidOperatorRequestBody
        message: Operator cannot contain an experiment and a deployment simultaneously
    InvalidParameters:
      value:
        code: InvalidParameters
        message: The specified parameters are not valid
    InvalidDependencies:
      value:
        code: InvalidDependencies
        message: The specified dependencies are not valid.
    InvalidCyclicalDependencies:
      value:
        code: InvalidCyclicalDependencies
        message: Cyclical dependencies.
    MissingRequiredNotebookOrTaskId:
      value:
        code: MissingRequiredNotebookOrTaskId
        message: Either provide notebooks or a task to copy from
    TaskNameExists:
      value:
        code: TaskNameExists
        message: a task with that name already exists
    InvalidTaskId:
      value:
        code: InvalidTaskId
        message: source task does not exist
    InvalidCategory:
      value:
        code: InvalidCategory
        message: 'Invalid category. Choose any of {valid_categories}'
    InvalidDockerImageName:
      value:
        code: InvalidDockerImageName
        message: invalid docker image name
    TaskProtectedFromDeletion:
      value:
        code: TaskProtectedFromDeletion
        message: Task related to an operator
    CannotConnectToCluster:
      value:
        code: CannotConnectToCluster
        message: Failed to connect to cluster.
    CannotCreatePersistentVolumeClaim:
      value:
        code: CannotCreatePersistentVolumeClaim
        message: 'Error while trying to create persistent volume claim: {message}'
    CannotPatchNotebookServer:
      value:
        code: CannotPatchNotebookServer
        message: 'Error while trying to patch notebook server: {message}'
    CannotRetrieveContainerLogs:
      value:
        code: CannotRetrieveContainerLogs
        message: 'Error while trying to retrieve container''s log: {message}'
    ComparisonNotFound:
      value:
        code: ComparisonNotFound
        message: The specified comparison does not exist.
    DeploymentNotFound:
      value:
        code: DeploymentNotFound
        message: The specified deployment does not exist.
    ExperimentNotFound:
      value:
        code: ExperimentNotFound
        message: The specified experiment does not exist.
    MonitoringNotFound:
      value:
        code: MonitoringNotFound
        message: The specified monitoring does not exist.
    OperatorNotFound:
      value:
        code: OperatorNotFound
        message: The specified operator does not exist.
    PredictionNotFound:
      value:
        code: PredictionNotFound
        message: The specified prediction does not exist.
    ProjectNotFound:
      value:
        code: ProjectNotFound
        message: The specified project does not exist.
    RunNotFound:
      value:
        code: RunNotFound
        message: The specified run does not exist.
    TaskNotFound:
      value:
        code: TaskNotFound
        message: The specified task does not exist.
    TemplateNotFound:
      value:
        code: TemplateNotFound
        message: The specified template does not exist.
    DatasetNotFound:
      value:
        code: DatasetNotFound
        message: The specified run does not contain dataset.
