openapi: 3.0.0
info:
  title: PlatIAgro Projects API
  version: "0.2.0"
  description: >
    These are the docs for PlatIAgro Projects API.
    The endpoints below are usually accessed by the PlatIAgro Web-UI.
  license:
    name: "Apache 2.0"
    url: "http://www.apache.org/licenses/LICENSE-2.0.html"
servers:
  - url: http://localhost:8080
tags:
  - name: "Tasks"
    description: >
      Tasks are tools and algorithms that a data-scientist writes in Jupyter Notebooks or in a Docker image.
      You may use these tasks as a step of an experiment to perform model training or inference.
  - name: "Projects"
    description: >
      Projects are a way to organize the problems a data-scientist is trying to solve.
      In a project, you may test different experiments (hypothesis/solutions/models) that address the business question you are trying to answer.
  - name: "Experiments"
    description: >
      Experiments allow data-scientists to draw acyclic workflows using tasks.
      These workflows may describe the steps of data-preparation, data-modeling.
  - name: "Experiment Operators"
    description: >
      An Operator is a single unit in an experiment flow.
      When a data-scientist runs an experiment, the operator runs a Jupyter Notebook of its task.
  - name: "Experiment Runs"
    description: >
      Runs are the executions of an experiment.
      Each run start from the first step and generates its own results.
  - name: "Deployments"
    description: >
      Deployments allow drawing sequential workflows for real-time inference.
      These workflows are accessible by HTTP via REST endpoints.
  - name: "Deployment Operators"
    description: >
      An Operator is a single unit in a deployment flow.
      When someone tests a deployment, the operator is a service that runs the Model.py of its task.
  - name: "Deployment Runs"
    description: >
      Runs are the executions of a deployment.
      Each run start from the first step and generates its own results.
  - name: "Predictions"
    description: >
      Predictions send a request with file data to seldon deployment.
  - name: "Results"
    description: >
      Results are the outputs of experiment runs.
      They are: figures, metrics, datasets and log messages.
  - name: "Comparisons"
    description: >
      Comparisons organize results from different experiments for evaluation/comparision.
  - name: "Templates"
    description: >
      Templates are reusable workflows that a data-scientist may use to draw an experiment quickly.
  - name: "Monitorings"
    description: >
      Monitorings allow to ensure that models are maintaining a predetermined desired level of performance.
paths:
  /tasks:
    get:
      summary: "List tasks. Supports pagination, and sorting."
      tags:
        - "Tasks"
      parameters:
        - in: query
          name: name
          schema:
            type: string
          description: Name filter
        - in: query
          name: page
          schema:
            type: integer
          description: Page number
        - in: query
          name: page_size
          schema:
            type: integer
          description: Page size
        - in: query
          name: order
          schema:
            type: string
          example: uuid asc
      responses:
        "200":
          $ref: "#/components/responses/Tasks"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new task."
      tags:
        - "Tasks"
      requestBody:
        $ref: "#/components/requestBodies/TaskPost"
      responses:
        "200":
          $ref: "#/components/responses/Task"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /tasks/{taskId}:
    get:
      summary: "Detail a specific task by ID."
      tags:
        - "Tasks"
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Task"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    patch:
      summary: "Update a task by ID."
      tags:
        - "Tasks"
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/TaskPatch"
      responses:
        "200":
          $ref: "#/components/responses/Task"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Delete a task by ID."
      tags:
        - "Tasks"
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /tasks/{taskId}/parameters:
    get:
      summary: "List all parameters."
      tags:
        - "Tasks"
      parameters:
        - name: taskId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Parameters"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects:
    get:
      summary: "List projects. Supports pagination, and sorting."
      tags:
        - "Projects"
      parameters:
        - in: query
          name: name
          schema:
            type: string
          description: Name filter
        - in: query
          name: page
          schema:
            type: integer
          description: Page number
        - in: query
          name: page_size
          schema:
            type: integer
          description: Page size
        - in: query
          name: order
          schema:
            type: string
          example: name asc
      responses:
        "200":
          $ref: "#/components/responses/Projects"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new project."
      tags:
        - "Projects"
      requestBody:
        $ref: "#/components/requestBodies/Project"
      responses:
        "200":
          $ref: "#/components/responses/Project"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/deleteprojects:
    post:
      summary: "Delete multiple projects."
      tags:
        - "Projects"
      requestBody:
        $ref: "#/components/requestBodies/Deleteprojects"
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}:
    get:
      summary: "Detail a specific project by ID."
      tags:
        - "Projects"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Project"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    patch:
      summary: "Update a project by ID."
      tags:
        - "Projects"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/Project"
      responses:
        "200":
          $ref: "#/components/responses/Project"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Delete a project by ID."
      tags:
        - "Projects"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/comparisons:
    get:
      summary: "List all comparisons sorted by created_at in ascending order."
      tags:
        - "Comparisons"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Comparisons"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new comparison."
      tags:
        - "Comparisons"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Comparison"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/comparisons/{comparisonId}:
    patch:
      summary: "Update a comparison by ID."
      tags:
        - "Comparisons"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: comparisonId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/ComparisonPatch"
      responses:
        "200":
          $ref: "#/components/responses/Comparison"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Delete a comparison by ID."
      tags:
        - "Comparisons"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: comparisonId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments:
    get:
      summary: "List all experiments sorted by position in ascending order."
      tags:
        - "Experiments"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Experiments"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new experiment."
      tags:
        - "Experiments"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/ExperimentPost"
      responses:
        "200":
          $ref: "#/components/responses/Experiment"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}:
    get:
      summary: "Detail a specific experiment by ID."
      tags:
        - "Experiments"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Experiment"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    patch:
      summary: "Update an experiment by ID."
      tags:
        - "Experiments"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/ExperimentPatch"
      responses:
        "200":
          $ref: "#/components/responses/Experiment"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Delete an experiment by ID."
      tags:
        - "Experiments"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/operators:
    get:
      summary: "List all operators, unsorted."
      tags:
        - "Experiment Operators"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Operators"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new operator."
      tags:
        - "Experiment Operators"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/OperatorPost"
      responses:
        "200":
          $ref: "#/components/responses/Operator"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/operators/{operatorId}:
    patch:
      summary: "Update an operator by ID."
      tags:
        - "Experiment Operators"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/OperatorPatch"
      responses:
        "200":
          $ref: "#/components/responses/Operator"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Delete an operator by ID."
      tags:
        - "Experiment Operators"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/operators/{operatorId}/parameters/{name}:
    patch:
      summary: "Update a parameter value."
      tags:
        - "Experiment Operators"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
        - name: name
          description: "Parameter name."
          in: path
          required: true
          schema:
            type: string
      requestBody:
        $ref: "#/components/requestBodies/ParameterPatch"
      responses:
        "200":
          $ref: "#/components/responses/Operator"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
  /projects/{projectId}/experiments/{experimentId}/runs:
    get:
      summary: "List all experiment runs sorted by created_at in ascending order."
      tags:
        - "Experiment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Run"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new experiment run."
      tags:
        - "Experiment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/RunPost"
      responses:
        "200":
          $ref: "#/components/responses/Run"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}:
    get:
      summary: "Detail a specific experiment run by ID."
      tags:
        - "Experiment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/Run"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Terminate an experiment run."
      tags:
        - "Experiment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: experimentId
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/retry:
    put:
      summary: "Re-initiate a failed or terminated experiment run."
      tags:
        - "Experiment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: experimentId
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/operators/{operatorId}/datasets:
    get:
      summary: "List datasets. Supports pagination."
      tags:
        - "Results"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - in: query
          name: page
          schema:
            type: integer
          description: Page number
        - in: query
          name: page_size
          schema:
            type: integer
          description: Page size
      responses:
        "200":
          $ref: "#/components/responses/Datasets"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/operators/{operatorId}/figures:
    get:
      summary: "List all figures"
      tags:
        - "Results"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Figures"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/operators/{operatorId}/metrics:
    get:
      summary: "List all metrics"
      tags:
        - "Results"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Metrics"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/experiments/{experimentId}/runs/{runId}/operators/{operatorId}/logs:
    get:
      summary: "Get logs from Jupyter Notebook"
      tags:
        - "Results"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: experimentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/ExperimentLog"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments:
    get:
      summary: "List all deployments."
      tags:
        - "Deployments"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Deployments"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new deployment."
      tags:
        - "Deployments"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/DeploymentPost"
      responses:
        "200":
          $ref: "#/components/responses/Deployments"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}:
    get:
      summary: "Detail a specific deployment by ID."
      tags:
        - "Deployments"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Deployment"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    patch:
      summary: "Update a deployment by ID."
      tags:
        - "Deployments"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/DeploymentPatch"
      responses:
        "200":
          $ref: "#/components/responses/Deployment"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Delete a deployment by ID."
      tags:
        - "Deployments"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}/operators:
    get:
      summary: "List all operators, unsorted."
      tags:
        - "Deployment Operators"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Operators"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}/operators/{operatorId}:
    patch:
      summary: "Update an operator by ID."
      tags:
        - "Deployment Operators"
      parameters:
        - name: projectId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: operatorId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/OperatorPatch"
      responses:
        "200":
          $ref: "#/components/responses/Operator"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}/monitorings:
    get:
      summary: "Lists all monitorings."
      tags:
        - "Monitorings"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Monitorings"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a monitoring."
      tags:
        - "Monitorings"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                taskId:
                  type: string
      responses:
        "200":
          description: ""
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Monitoring"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}/monitorings/{monitoringId}:
    delete:
      summary: "Delete a monitoring by ID."
      tags:
        - "Monitorings"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: monitoringId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}/runs:
    get:
      summary: "List all experiment runs sorted by created_at in ascending order."
      tags:
        - "Deployment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Run"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new deployment run."
      tags:
        - "Deployment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/RunPost"
      responses:
        "200":
          $ref: "#/components/responses/Run"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}/runs/{runId}:
    get:
      summary: "Detail a specific deployment run by ID."
      tags:
        - "Deployment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/Run"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Terminate a deployment run."
      tags:
        - "Deployment Runs"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}/predictions:
    post:
      summary: "Create a new prediction sending a file."
      tags:
        - "Predictions"
      requestBody:
        $ref: "#/components/requestBodies/PredictionPost"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Prediction"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
  /projects/{projectId}/deployments/{deploymentId}/runs/{runId}/logs:
    get:
      summary: "Get logs from a deployment run"
      tags:
        - "Results"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - name: deploymentId
          in: path
          required: true
          schema:
            type: string
        - name: runId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          $ref: "#/components/responses/DeploymentLog"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /templates:
    get:
      summary: "List all templates sorted by name in natural sort order."
      tags:
        - "Templates"
      responses:
        "200":
          $ref: "#/components/responses/Templates"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    post:
      summary: "Create a new template from an experiment."
      tags:
        - "Templates"
      requestBody:
        $ref: "#/components/requestBodies/TemplatePost"
      responses:
        "200":
          $ref: "#/components/responses/Template"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /projects/{projectId}/deployments/{deploymentId}/responses:
    post:
      summary: "Create a deployment response."
      tags:
        - "Deployments"
      parameters:
        - in: path
          name: projectId
          required: true
          schema:
            type: string
            format: uuid
        - in: path
          name: deploymentId
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/ResponsePost"
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
  /templates/{templateId}:
    get:
      summary: "Detail a specific template by ID."
      tags:
        - "Templates"
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Template"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    patch:
      summary: "Update a template by ID."
      tags:
        - "Templates"
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        $ref: "#/components/requestBodies/TemplatePatch"
      responses:
        "200":
          $ref: "#/components/responses/Template"
        "400":
          $ref: "#/components/responses/BadRequest"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
    delete:
      summary: "Delete a template by ID."
      tags:
        - "Templates"
      parameters:
        - name: templateId
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          $ref: "#/components/responses/Message"
        "404":
          $ref: "#/components/responses/NotFound"
        "500":
          $ref: "#/components/responses/InternalServerError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"
components:
  schemas:
    Comparison:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        experimentId:
          type: string
          format: uuid
        operatorId:
          type: string
          format: uuid
        runId:
          type: string
          format: uuid
        layout:
          type: object
          properties:
            x:
              type: number
            y:
              type: number
            w:
              type: number
            h:
              type: number
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    Comparisons:
      type: array
      items:
        $ref: "#/components/schemas/Comparison"
    Task:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        commands:
          type: array
          items:
            type: string
        arguments:
          type: array
          items:
            type: string
        cpuLimit:
          type: string
        cpuRequest:
          type: string
        memoryLimit:
          type: string
        memoryRequest:
          type: string
        tags:
          type: array
          items:
            type: string
            enum: [DEFAULT, FEATURE_ENGINEERING, PREDICTOR]
        parameters:
          type: array
          items:
            $ref: "#/components/schemas/Parameter"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    Tasks:
      type: object
      properties:
        tasks:
          type: array
          items:
            $ref: "#/components/schemas/Task"
        total:
          type: integer
    TaskEmpty:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
    TaskDocker:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
        commands:
          type: array
          items:
            type: string
        arguments:
          type: array
          items:
            type: string
        image:
          type: string
        cpuLimit:
          type: string
        cpuRequest:
          type: string
        memoryLimit:
          type: string
        memoryRequest:
          type: string
    TaskCopyFrom:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
        copyFrom:
          type: string
          format: uuid
    TaskNotebooks:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        tags:
          type: array
          items:
            type: string
        deploymentNotebook:
          type: object
        experimentNotebook:
          type: object
        cpuLimit:
          type: string
        cpuRequest:
          type: string
        memoryLimit:
          type: string
        memoryRequest:
          type: string
    Parameter:
      type: object
      properties:
        type:
          type: string
          enum: [string, integer]
        name:
          type: string
        default:
          type: string
    Parameters:
      type: array
      items:
        $ref: "#/components/schemas/Parameter"
    Project:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        experiments:
          type: array
          items:
            $ref: "#/components/schemas/Experiment"
        deployments:
          type: array
          items:
            $ref: "#/components/schemas/Deployment"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        hasExperiment:
          type: string
        hasDeployment:
          type: string
        hasPreDeployment:
          type: string
    Projects:
      type: object
      properties:
        projects:
          type: array
          items:
            $ref: "#/components/schemas/Project"
        total:
          type: integer
    Experiment:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        position:
          type: integer
        isActive:
          type: boolean
        projectId:
          type: string
          format: uuid
        operators:
          $ref: "#/components/schemas/Operators"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    Experiments:
      type: array
      items:
        $ref: "#/components/schemas/Experiment"
    Deployment:
      type: object
      properties:
        createdAt:
          type: string
          format: date-time
        experimentId:
          type: string
          format: uuid
        isActive:
          type: boolean
        name:
          type: string
        operators:
          type: array
          items:
            $ref: "#/components/schemas/Operator"
        position:
          type: integer
        status:
          type: string
        uuid:
          type: string
          format: uuid
    Deployments:
      type: array
      items:
        $ref: "#/components/schemas/Deployment"
    Prediction:
      oneOf:
        - $ref: "#/components/schemas/Data"
        - $ref: "#/components/schemas/BinData"
        - $ref: "#/components/schemas/StrData"
    Data:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/SeldonStatus'
        meta:
          $ref: '#/components/schemas/SeldonMeta'
        data:
          $ref: '#/components/schemas/SeldonDefaultData'
    BinData:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/SeldonStatus'
        meta:
          $ref: '#/components/schemas/SeldonMeta'
        binData:
          type: string
          format: byte
    StrData:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/SeldonStatus'
        meta:
          $ref: '#/components/schemas/SeldonMeta'
        strData:
          type: string
    SeldonMeta:
      type: object
      additionalProperties: false
      properties:
        tags:
          type: object
          additionalProperties:
            description: 'Can be anything: string, number, array, object, etc.'
          example:
            content-type: "image/jpg"
    SeldonDefaultData:
      type: object
      additionalProperties: false
      properties:
        names:
          type: array
          maxItems: 2097152
          items:
            type: string
            pattern: '^.{1,2097152}'
            maxLength: 2097152
        tensor:
          type: object
          additionalProperties: false
          properties:
            shape:
              type: array
              maxItems: 2097152
              items:
                type: integer
                format: int32
            values:
              type: array
              maxItems: 2097152
              items:
                type: number
                format: double
        ndarray:
          type: array
          maxItems: 2097152
          items:
            description: 'Can be anything: string, number, array, object, etc.'
        tftensor:
          type: object
          additionalProperties: false
          properties:
            size:
              type: string
              pattern: '^.{1,2097152}'
              maxLength: 2097152
              format: int64
              description: 'Size of the tensor in that dimension. This value must be >= -1, but values of -1 are reserved for "unknown" shapes (values of -1 mean "unknown" dimension).  Certain wrappers that work with TensorShapeProto may fail at runtime when deserializing a TensorShapeProto containing a dim value of -1.'
            name:
              type: string
              pattern: '^.{1,2097152}'
              maxLength: 2097152
              description: Optional name of the tensor dimension.
          description: One dimension of the tensor.
    SeldonStatus:
      type: object
      additionalProperties: false
      properties:
        code:
          type: integer
          format: int32
        info:
          type: string
          pattern: '^.{1,2097152}'
          maxLength: 2097152
        reason:
          type: string
          pattern: '^.{1,2097152}'
          maxLength: 2097152
        status:
          type: string
          pattern: '^.{1,2097152}'
          maxLength: 2097152
          enum:
            - SUCCESS
            - FAILURE
          default: SUCCESS
    DeploymentExperiments:
      type: object
      properties:
        experiments:
          type: array
          items:
            type: string
            format: uuid
    Monitoring:
      type: object
      properties:
        createdAt:
          type: string
          format: date-time
        deploymentId:
          type: string
          format: uuid
        taskId:
          type: string
          format: uuid
        task:
          type: object
          properties:
            name:
              type: string
            tags:
              type: array
              items:
                type: string
        uuid:
          type: string
          format: uuid
    Monitorings:
      type: array
      items:
        $ref: "#/components/schemas/Monitoring"
    DeploymentTemplate:
      type: object
      properties:
        templateId:
          type: string
          format: uuid
    Operator:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        taskId:
          type: string
          format: uuid
        task:
          type: object
          properties:
            name:
              type: string
            tags:
              type: array
              items:
                type: string
        dependencies:
          type: array
          items:
            type: string
            format: uuid
        parameters:
          type: object
          additionalProperties:
            type: string
        experimentId:
          type: string
          format: uuid
        deploymentId:
          type: string
          format: uuid
        positionX:
          type: number
          format: float
        positionY:
          type: number
          format: float
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        status:
          type: string
          enum: [Unset, Setted up, Pending, Running, Failed, Successful]
          example: Setted up
        statusMessage:
          type: string
    Operators:
      type: array
      items:
        $ref: "#/components/schemas/Operator"
    ExperimentLog:
      type: object
      properties:
        exception:
          type: string
          example: "KeyError"
        traceback:
          type: array
          items:
            type: string
            example:
              - "---------------------------------------------------------------------------"
              - "KeyError                                  Traceback (most recent call last)"
              - "<ipython-input-6-3c08f8d95ae4> in <module>"
              - "----> 1 df.dropna(subset = [target],inplace=True)"
              - "      2 y = df[target].to_numpy()"
              - ""
              - "/opt/conda/lib/python3.7/site-packages/pandas/core/frame.py in dropna(self, axis, how, thresh, subset, inplace)"
              - "   4857                 check = indices == -1"
              - "   4858                 if check.any():"
              - "-> 4859                     raise KeyError(list(np.compress(check, subset)))"
              - "   4860                 agg_obj = self.take(indices, axis=agg_axis)"
              - "   4861 "
              - ""
              - "KeyError: ['species']"
    DeploymentLog:
      type: array
      items:
        type: object
        properties:
          containerName:
            type: string
            example: Regressor Random Forest
          logs:
            type: array
            items:
              type: object
              properties:
                level:
                  type: string
                  enum: [DEBUG, INFO, WARNING, ERROR]
                  example: INFO
                message:
                  type: string
                  example: seldon_core.microservice:load_annotations:114 Found annotation deployment_version
                timestamp:
                  type: string
                  format: date-time
          status:
            type: string
            enum: [Creating, Completed]
            example: Completed
    Datasets:
      type: array
      items:
        type: object
        properties:
          columns:
            type: array
            items:
              oneOf:
                - type: string
                  example: "SepalLengthCm"
                - type: string
                  example: "Species"
          data:
            type: array
            items:
              oneOf:
                - type: array
                  items:
                    oneOf:
                      - type: number
                        example: 5.1
                      - type: string
                        example: "Iris-setosa"
          total:
            type: number
            example: 2
    Figures:
      type: array
      items:
        type: string
        example: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAAC6CAIAAAB3B9X3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAG6SURBVHhe7dIxAQAADMOg+TfdicgLGrhBIBCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhCJQCQCkQhEIhDB9ho69eEGiUHfAAAAAElFTkSuQmCC"
    Metrics:
      type: array
      items:
        type: object
        example:
          metric_name: metric_value
    Run:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date-time
        operators:
          type: array
          items:
            type: object
            properties:
              operatorId:
                type: string
                format: uuid
              taskId:
                type: string
                format: uuid
              task:
                type: object
                properties:
                  name:
                    type: string
                  tags:
                    type: array
                    items:
                      type: string
              parameters:
                type: object
                example:
                  dataset: "/tmp/data/iris.csv"
                  target: "SepalLengthCm"
    Runs:
      type: array
      items:
        $ref: "#/components/schemas/Run"
    Template:
      type: object
      properties:
        uuid:
          type: string
          format: uuid
        name:
          type: string
        tasks:
          type: array
          items:
            type: object
            properties:
              uuid:
                type: string
                format: uuid
              taskId:
                type: string
                format: uuid
              dependencies:
                type: array
                items:
                  type: string
                  format: uuid
              positionX:
                type: number
                format: float
              positionY:
                type: number
                format: float
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
    Templates:
      type: array
      items:
        $ref: "#/components/schemas/Template"
    TemplateExperiment:
      type: object
      properties:
        experimentId:
          type: string
          format: uuid
    TemplateDeployment:
      type: object
      properties:
        deploymentId:
          type: string
          format: uuid
  requestBodies:
    ComparisonPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              experimentId:
                type: string
                format: uuid
              operatorId:
                type: string
                format: uuid
              runId:
                type: string
                format: uuid
              layout:
                type: object
                properties:
                  x:
                    type: number
                  y:
                    type: number
                  w:
                    type: number
                  h:
                    type: number
    TaskPost:
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "#/components/schemas/TaskEmpty"
              - $ref: "#/components/schemas/TaskDocker"
              - $ref: "#/components/schemas/TaskCopyFrom"
              - $ref: "#/components/schemas/TaskNotebooks"
          examples:
            empty:
              summary: Empty notebooks
              value:
                name: string
                description: string
                tags: ["DEFAULT"]
                cpuLimit: "1000m"
                cpuRequest: "1000m"
                memoryLimit: "10G"
                memoryRequest: "10G"
            docker:
              summary: Custom docker image
              value:
                name: string
                description: string
                tags: ["DEFAULT"]
                commands: ["cmd"]
                arguments: ["arg"]
                image: your-custom-docker-image:tag
                cpuLimit: "1000m"
                cpuRequest: "1000m"
                memoryLimit: "10G"
                memoryRequest: "10G"
            copyFrom:
              summary: Copy another task
              value:
                name: string
                description: string
                tags: ["DEFAULT"]
                copyFrom: 3fa85f64-5717-4562-b3fc-2c963f66afa6
            notebook:
              summary: Upload notebooks in request body
              value:
                name: string
                description: string
                tags: ["DEFAULT"]
                cpuLimit: "1000m"
                cpuRequest: "1000m"
                memoryLimit: "10G"
                memoryRequest: "10G"
                deploymentNotebook:
                  {
                    "cells":
                      [
                        {
                          "cell_type": "code",
                          "execution_count": null,
                          "metadata": {},
                          "outputs": [],
                          "source": [],
                        },
                      ],
                    "metadata":
                      {
                        "kernelspec":
                          {
                            "display_name": "Python 3",
                            "language": "python",
                            "name": "python3",
                          },
                        "language_info":
                          {
                            "codemirror_mode":
                              { "name": "ipython", "version": 3 },
                            "file_extension": ".py",
                            "mimetype": "text/x-python",
                            "name": "python",
                            "nbconvert_exporter": "python",
                            "pygments_lexer": "ipython3",
                            "version": "3.6.9",
                          },
                      },
                    "nbformat": 4,
                    "nbformat_minor": 4,
                  }
                experimentNotebook:
                  {
                    "cells":
                      [
                        {
                          "cell_type": "code",
                          "execution_count": null,
                          "metadata": {},
                          "outputs": [],
                          "source": [],
                        },
                      ],
                    "metadata":
                      {
                        "kernelspec":
                          {
                            "display_name": "Python 3",
                            "language": "python",
                            "name": "python3",
                          },
                        "language_info":
                          {
                            "codemirror_mode":
                              { "name": "ipython", "version": 3 },
                            "file_extension": ".py",
                            "mimetype": "text/x-python",
                            "name": "python",
                            "nbconvert_exporter": "python",
                            "pygments_lexer": "ipython3",
                            "version": "3.6.9",
                          },
                      },
                    "nbformat": 4,
                    "nbformat_minor": 4,
                  }
    TaskPatch:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/TaskNotebooks"
          example:
            name: string
            description: string
            tags: ["DEFAULT"]
            commands: ["cmd"]
            arguments: ["arg"]
            image: your-custom-docker-image:tag
            cpuLimit: "1000m"
            cpuRequest: "1000m"
            memoryLimit: "10G"
            memoryRequest: "10G"
            deploymentNotebook:
              {
                "cells":
                  [
                    {
                      "cell_type": "code",
                      "execution_count": null,
                      "metadata": {},
                      "outputs": [],
                      "source": [],
                    },
                  ],
                "metadata":
                  {
                    "kernelspec":
                      {
                        "display_name": "Python 3",
                        "language": "python",
                        "name": "python3",
                      },
                    "language_info":
                      {
                        "codemirror_mode": { "name": "ipython", "version": 3 },
                        "file_extension": ".py",
                        "mimetype": "text/x-python",
                        "name": "python",
                        "nbconvert_exporter": "python",
                        "pygments_lexer": "ipython3",
                        "version": "3.6.9",
                      },
                  },
                "nbformat": 4,
                "nbformat_minor": 4,
              }
            experimentNotebook:
              {
                "cells":
                  [
                    {
                      "cell_type": "code",
                      "execution_count": null,
                      "metadata": {},
                      "outputs": [],
                      "source": [],
                    },
                  ],
                "metadata":
                  {
                    "kernelspec":
                      {
                        "display_name": "Python 3",
                        "language": "python",
                        "name": "python3",
                      },
                    "language_info":
                      {
                        "codemirror_mode": { "name": "ipython", "version": 3 },
                        "file_extension": ".py",
                        "mimetype": "text/x-python",
                        "name": "python",
                        "nbconvert_exporter": "python",
                        "pygments_lexer": "ipython3",
                        "version": "3.6.9",
                      },
                  },
                "nbformat": 4,
                "nbformat_minor": 4,
              }
    Project:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              description:
                type: string
    Deleteprojects:
      content:
        application/json:
          schema:
            type: array
            items:
              properties:
                uuid:
                  type: string
    ExperimentPost:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              copyFrom:
                type: string
    ExperimentPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
              position:
                type: integer
              isActive:
                type: boolean
              templateId:
                type: string
                format: uuid
    DeploymentPost:
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "#/components/schemas/DeploymentExperiments"
              - $ref: "#/components/schemas/DeploymentTemplate"
          examples:
            experiments:
              summary: From a list of experiments
              value:
                experiments: ["3fa85f64-5717-4562-b3fc-2c963f66afa6"]
            template:
              summary: From a template
              value:
                templateId: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
    DeploymentPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              isActive:
                type: boolean
              name:
                type: string
              position:
                type: integer
              templateId:
                type: string
                format: uuid
    PredictionPost:
      content:
        multipart/form-data:
          schema:
            type: object
            properties:
              file:
                type: string
                format: binary
    OperatorPost:
      content:
        application/json:
          schema:
            type: object
            properties:
              taskId:
                type: string
              dependencies:
                type: array
                items:
                  type: string
                  format: uuid
              parameters:
                type: object
                additionalProperties:
                  type: string
              positionX:
                type: number
                format: float
              positionY:
                type: number
                format: float
    OperatorPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              taskId:
                type: string
              dependencies:
                type: array
                items:
                  type: string
                  format: uuid
              parameters:
                type: object
                additionalProperties:
                  type: string
              positionX:
                type: number
                format: float
              positionY:
                type: number
                format: float
    ParameterPatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              value:
                oneOf:
                  - type: string
                  - type: integer
                  - type: array
                  - type: number
                  - type: boolean
    ResponsePost:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Prediction"
    RunPost:
      content:
        application/json:
          schema:
            type: object
            properties: {}
    TemplatePost:
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "#/components/schemas/TemplateExperiment"
              - $ref: "#/components/schemas/TemplateDeployment"
          examples:
            experiment:
              summary: From a experimentId
              value:
                experimentId: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
            deployment:
              summary: From a deploymentId
              value:
                deploymentId:
                  "3fa85f64-5717-4562-b3fc-2c963f66afa6"
    TemplatePatch:
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
  responses:
    Comparison:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Comparison"
    Comparisons:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Comparisons"
    Task:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Task"
    Tasks:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Tasks"
    Parameters:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Parameters"
    Project:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Project"
    Projects:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Projects"
    Experiment:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Experiment"
    Experiments:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Experiments"
    Deployment:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Deployments"
    Deployments:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Deployments"
    Prediction:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Prediction"
          examples:
            data:
              summary: Tabular data
              value:
                data:
                  ndarray: [[1.0, 2.0, 3.0, 3.0]]
                meta: {}
            strData:
              summary: String data
              value:
                strData: "The blue fox jumps over the lazy dog"
                meta: {}
            binData:
              summary: Binary data
              value:
                binData: "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNkYPhfDwAChwGA60e6kgAAAABJRU5ErkJggg=="
                meta:
                  tags: {"content-type": "image/jpg"}
    Operator:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Operator"
    Operators:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Operators"
    ExperimentLog:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ExperimentLog"
    DeploymentLog:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/DeploymentLog"
    Datasets:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Datasets"
    Figures:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Figures"
    Metrics:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Metrics"
    Run:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Run"
    Runs:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Runs"
    Template:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Template"
    Templates:
      description: ""
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Templates"
    Message:
      description: ""
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            required:
              - message
    BadRequest:
      description: ""
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
            required:
              - message
    NotFound:
      description: ""
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: "The specified ... does not exist"
            required:
              - message
    InternalServerError:
      description: ""
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: "An internal failure occurred."
            required:
              - message
    ServiceUnavailable:
      description: ""
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                example: "The service is unavailable. Try your call again."
            required:
              - message
